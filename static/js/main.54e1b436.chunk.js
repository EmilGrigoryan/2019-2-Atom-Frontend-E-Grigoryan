(this["webpackJsonp2019-2-Atom-Frontend-E-Grigoryan"]=this["webpackJsonp2019-2-Atom-Frontend-E-Grigoryan"]||[]).push([[0],[,,,,,function(e,a,t){e.exports={wrap:"DialogObject_wrap__2IHCg",avatar:"DialogObject_avatar__1QCS5",InformationBlock:"DialogObject_InformationBlock__2quxw",PersonalInformation:"DialogObject_PersonalInformation__1eEN-",AdditionalInformation:"DialogObject_AdditionalInformation__3XWTw",name:"DialogObject_name__29fIM",lastmessage:"DialogObject_lastmessage__12ySH",time:"DialogObject_time__OZjkR",status:"DialogObject_status__18FAO"}},function(e,a,t){e.exports={wrap:"Dialogs_wrap__3V94j",header:"Dialogs_header__3LN0U",dialogs:"Dialogs_dialogs__3cDrq",buttonNew:"Dialogs_buttonNew__2_d3B",forButton:"Dialogs_forButton__XphLy",appear:"Dialogs_appear__38h-K",disappear:"Dialogs_disappear__3oQXo"}},,,function(e,a,t){e.exports={wrap:"Profile_wrap__25qw-",header:"Profile_header__3KTnW",profile:"Profile_profile__3y5_H",avatar:"Profile_avatar__3XqJk",container:"Profile_container__2JtNm"}},,function(e,a,t){e.exports={wrap:"Header_wrap__1jQCG",data:"Header_data__2EmoH",backbutton:"Header_backbutton__3VCAQ",search:"Header_search__n-3vn",name:"Header_name__sBWfK"}},,,,,,function(e,a,t){e.exports={wrap:"MessageForm_wrap__13dsb",formInput:"MessageForm_formInput__1UaVl",dialog:"MessageForm_dialog__ZBXAu",messages:"MessageForm_messages__3miM1",header:"MessageForm_header__10-FU"}},function(e,a,t){e.exports={messageOne:"Message_messageOne__3tj5g",data:"Message_data__2ByTC",time:"Message_time__35Zfq",userName:"Message_userName__1Qvk6",newBox:"Message_newBox__3sqbJ",messageBoxApearence:"Message_messageBoxApearence__VAurz",newmessage:"Message_newmessage__28GsG",newmessageOp:"Message_newmessageOp__3criL"}},,,function(e,a,t){e.exports={wrap:"HeaderChat_wrap__xhr7e",burger:"HeaderChat_burger__2ixQp",data:"HeaderChat_data__1JLUe",search:"HeaderChat_search__72z3G"}},,,,function(e,a,t){e.exports={wrap:"FormInput_wrap__1lbFG",inputText:"FormInput_inputText__hxKAE",pin:"FormInput_pin__1SkJq"}},,function(e,a){null===localStorage.getItem("DialogIDs")&&(localStorage.setItem("DialogIDs",JSON.stringify([0,1])),localStorage.setItem("DialogId_0",JSON.stringify([{name:"\u0414\u0436\u0435\u043d\u043d\u0438\u0444\u0435\u0440 \u042d\u0448\u043b\u0438",time:"0:41",data:"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u043e\u0442 \u0414\u0436\u0435\u043d"},[{name:"\u0414\u0436\u0435\u043d\u043d\u0438\u0444\u0435\u0440 \u042d\u0448\u043b\u0438",data:"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u043e\u0442 \u0414\u0436\u0435\u043d",time:"0:41"}]])),localStorage.setItem("DialogId_1",JSON.stringify([{name:"\u042d\u043c\u0438\u043b\u044c \u0413\u0440\u0438\u0433\u043e\u0440\u044f\u043d",time:"0:58",data:"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u043e\u0442 Emil"},[{name:"\u042d\u043c\u0438\u043b\u044c \u0413\u0440\u0438\u0433\u043e\u0440\u044f\u043d",data:"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u043e\u0442 Emil",time:"0:58"}]])),localStorage.setItem("Users",JSON.stringify({"\u042d\u043c\u0438\u043b\u044c \u0413\u0440\u0438\u0433\u043e\u0440\u044f\u043d":{userName:"emil__grig",about:"\u0420\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f"},"\u0414\u0436\u0435\u043d\u043d\u0438\u0444\u0435\u0440 \u042d\u0448\u043b\u0438":{userName:"DAshley",about:"\u0412\u044b\u0434\u0443\u043c\u0430\u043d\u043d\u044b\u0439 \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u0436"}})))},,,,,function(e,a,t){e.exports={wrap:"ChatStyle_wrap__1bLxI"}},function(e,a,t){e.exports=t(44)},,,,,function(e,a,t){},,,,,,function(e,a,t){"use strict";t.r(a);var n=t(0),s=t.n(n),r=t(29);t(27),t(38),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var l=t(12),o=t(13),i=t(15),c=t(14),m=t(20),u=t(16),d=t(6),_=t.n(d),p=t(21),g=t.n(p);function h(e){return s.a.createElement("div",{className:g.a.wrap},s.a.createElement("div",{className:g.a.burger}),s.a.createElement("div",{className:g.a.data},"Chat"),s.a.createElement("div",{className:g.a.search}))}var v=t(7),f=t(5),E=t.n(f);function N(e){return s.a.createElement("div",{className:E.a.wrap},s.a.createElement(v.b,{to:"/profile/",style:{textDecoration:"none",color:"unset"}},s.a.createElement("div",{className:E.a.avatar})),s.a.createElement(v.b,{to:"/chat/".concat(e.chat_id),className:E.a.InformationBlock,style:{textDecoration:"none",color:"unset"}},s.a.createElement("div",{className:E.a.PersonalInformation},s.a.createElement("div",{className:E.a.name},s.a.createElement("p",null,e.chat.name)),s.a.createElement("div",{className:E.a.lastmessage},s.a.createElement("p",null,e.chat.data))),s.a.createElement("div",{className:E.a.AdditionalInformation},s.a.createElement("div",{className:E.a.time},s.a.createElement("p",null,e.chat.time)),s.a.createElement("div",{className:E.a.status}))))}var b=t(17),w=t.n(b),y=t(11),I=t.n(y);function O(e){return s.a.createElement("div",{className:I.a.wrap},s.a.createElement(v.b,{to:"/"},s.a.createElement("div",{className:I.a.backbutton})),s.a.createElement("div",{className:I.a.data},s.a.createElement(v.b,{to:"/profile/",style:{textDecoration:"none",color:"unset"}},s.a.createElement("div",{className:I.a.name}," ",e.name," ")),s.a.createElement("div",{className:I.a.online},e.status)),s.a.createElement("div",{className:I.a.search}))}var D=t(25),S=t.n(D),k=function(e){function a(e){var t;return Object(l.a)(this,a),(t=Object(i.a)(this,Object(c.a)(a).call(this,e))).state={value:""},t}return Object(u.a)(a,e),Object(o.a)(a,[{key:"handleSubmit",value:function(e){e.preventDefault(),this.props.handleSubmit(this.state.value),this.setState({value:""})}},{key:"handleChange",value:function(e){this.setState({value:e.target.value})}},{key:"render",value:function(){return s.a.createElement("div",{className:S.a.wrap},s.a.createElement("div",{className:S.a.pin}),s.a.createElement("form",{onSubmit:this.handleSubmit.bind(this),style:{width:"100%"}},s.a.createElement("input",{type:"text",value:this.state.value,placeholder:"Write a message..",onChange:this.handleChange.bind(this),style:{outline:"none"}})))}}]),a}(s.a.Component),j=t(18),C=t.n(j);function M(e){return s.a.createElement("div",{className:"".concat(C.a.messageOne," ").concat(C.a.newmessage)},s.a.createElement("div",{className:C.a.userName},"EG"),s.a.createElement("div",{className:C.a.time},e.time),s.a.createElement("div",{className:C.a.data},e.data))}var x=function(e){function a(e){var t;return Object(l.a)(this,a),(t=Object(i.a)(this,Object(c.a)(a).call(this,e))).state={dialogId:t.props.id,messages:t.messagesRender()},t}return Object(u.a)(a,e),Object(o.a)(a,[{key:"getTimeStr",value:function(){var e=new Date;return"".concat(e.getHours(),":").concat(e.getMinutes())}},{key:"handleSubmit",value:function(e){var a=this.state;if(e.length>0){var t=this.getTimeStr(),n="DialogId_".concat(this.state.dialogId);a.messages.push(s.a.createElement(M,{key:Date.now()+Math.random(),data:e,time:t}));var r={name:"EG",data:e,time:t},l=JSON.parse(localStorage.getItem(n));l[0].data=e,l[0].time=t,l[1].push(r),localStorage.setItem(n,JSON.stringify(l))}this.setState(a)}},{key:"messagesRender",value:function(){var e=[];null!==this.props.id&&this.props.messages.forEach((function(a){var t=s.a.createElement(M,{data:a.data,time:a.time,key:Date.now()+Math.random()});e.push(t)}));return e}},{key:"render",value:function(){return s.a.createElement("div",{style:this.props.style,className:w.a.wrap},s.a.createElement("div",{className:w.a.header},s.a.createElement(O,{name:this.props.name,status:"last seen recently"})),s.a.createElement("div",{className:w.a.dialog},s.a.createElement("div",{className:w.a.messages},this.state.messages)),s.a.createElement("div",{className:w.a.formInput},s.a.createElement(k,{handleSubmit:this.handleSubmit.bind(this)})))}}]),a}(s.a.Component),A=t(9),F=t.n(A);function J(e){var a=e.style;return s.a.createElement("div",{className:F.a.wrap,style:a},s.a.createElement("div",{className:F.a.header},s.a.createElement(O,null)),s.a.createElement("div",{className:F.a.profile},s.a.createElement("div",{className:F.a.avatar}),s.a.createElement("div",{className:F.a.container},s.a.createElement("p",null,"Full name"),s.a.createElement("p",null,"Emil")),s.a.createElement("div",{className:F.a.container},s.a.createElement("p",null,"Username:"),s.a.createElement("p",null,"emil__grig")),s.a.createElement("div",{className:F.a.container},s.a.createElement("p",null,"About:"),s.a.createElement("p",null,"\u0420\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f"))))}var P=function(e){function a(e){var t;return Object(l.a)(this,a),(t=Object(i.a)(this,Object(c.a)(a).call(this,e))).state={dialogID:null,openMessages:null,name:"",MessageFormAppear:{animationName:null},ProfileAppear:{animationName:null}},t.openChat=t.openChat.bind(Object(m.a)(t)),t.closeChat=t.closeChat.bind(Object(m.a)(t)),t}return Object(u.a)(a,e),Object(o.a)(a,[{key:"openChat",value:function(e){var a=this.state;a.MessageFormAppear={animationName:_.a.appear};var t=JSON.parse(localStorage.getItem("DialogId_".concat(e)));a.openMessages=t[1],a.dialogID=e,a.name=t[0].name}},{key:"closeChat",value:function(){this.state.MessageFormAppear={animationName:_.a.disappear},console.log("state.MessageFormAppear")}},{key:"openProfile",value:function(){var e=this.state;e.ProfileAppear={animationName:_.a.appear},console.log(e.ProfileAppear)}},{key:"closeProfile",value:function(){this.state.ProfileAppear={animationName:_.a.disappear}}},{key:"dialogLoad",value:function(){var e=this,a=[],t=JSON.parse(localStorage.getItem("DialogIDs"));return t?(t.forEach((function(t){var n=JSON.parse(localStorage.getItem("DialogId_".concat(t))),r=s.a.createElement(N,{id:t,chat_id:t,chat:n[0],key:Date.now()+Math.random(),openChat:e.openChat});a.push(r)})),a):(localStorage.setItem("DialogIDs",JSON.stringify([])),[])}},{key:"funcRouter",value:function(){var e=this.props.location.pathname;switch(!0){case/chat\/\d\/?$/.test(e):var a=parseInt(e.match(/\d+/),10);this.openChat(a);break;case/profile/.test(e):this.openProfile();break;default:this.closeChat(),this.closeProfile()}}},{key:"render",value:function(){this.funcRouter();var e=this.dialogLoad();return s.a.createElement("div",{className:_.a.wrap},s.a.createElement("div",{className:_.a.header},s.a.createElement(h,null)),s.a.createElement("div",{className:_.a.dialogs},e),s.a.createElement("div",{className:_.a.buttonNew}),s.a.createElement(x,{style:this.state.MessageFormAppear,key:Date.now()+Math.random(),messages:this.state.openMessages,closeChat:this.closeChat,id:this.state.dialogID,name:this.state.name}),s.a.createElement(J,{style:this.state.ProfileAppear}))}}]),a}(s.a.Component),B=t(32),H=t.n(B),G=t(8);Object(r.render)(s.a.createElement((function(){return s.a.createElement(v.a,null,s.a.createElement("div",{className:H.a.wrap},s.a.createElement(G.a,{path:"/",component:P})))}),null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[33,1,2]]]);
//# sourceMappingURL=main.54e1b436.chunk.js.map